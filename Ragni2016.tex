% Disable review before sending
\documentclass[preprint, 12pt, a4paper]{elsarticle}

\usepackage[english]{babel}

\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{pgf}
\usepackage[hidelinks]{hyperref}
\usepackage{xspace}

\usepackage{lineno}
\usepackage{sty/tikz-uml}
\usetikzlibrary{arrows,automata}

% Code listing
\usepackage{xcolor,listings,fontspec,parcolumns}
\newfontfamily{\lstttfamily}[Scale=0.6]{Fira Mono}
\lstdefinestyle{customruby}{
  belowcaptionskip=0.3\baselineskip,
  breaklines=true,
  lineskip=-0.7ex,
  frame=tb,
  xleftmargin=\parindent,
  language=Ruby,
  showstringspaces=false,
  basicstyle=\lstttfamily\color{black},
  keywordstyle=\color{red!40!black},
  commentstyle=\color{gray},
  identifierstyle=\color{black},
  stringstyle=\color{green!40!black},
}
\lstloadlanguages{Ruby,Python,C}
\lstset{style=customruby}

\input{src/0-commands}

\journal{SoftwareX}

\begin{document}

%  ___            _              _   _
% | __| _ ___ _ _| |_ _ __  __ _| |_| |_ ___ _ _
% | _| '_/ _ \ ' \  _| '  \/ _` |  _|  _/ -_) '_|
% |_||_| \___/_||_\__|_|_|_\__,_|\__|\__\___|_|
\begin{frontmatter}

\title{\ragnicas --- A Minimalistic (pure) \Ruby CAS for Fast Prototyping and Code Generation}

\author[ragni]{Matteo Ragni}
\address[ragni]{Department of Industrial Engineering, University of Trento, 9, Sommarive, Povo di Trento, Italy}
\ead{matteo.ragni@unitn.it}

\begin{abstract}
There are complete \textbf{Computer Algebra System} (CAS) systems on the market with complete solutions for manipulation of analytical models. But exporting a model\review{that implements specific algorithms on specific platforms,} for target language\review{ or for particular numerical library,} is often a rigid procedure that requires manual post-processing, even with a good software.
This work presents a \Ruby library that exposes core CAS capabilities---i.e.\ simplification, substitution, evaluation, etc. \review{The library aims at programmers that need to rapidly prototype and generate numerical code}  for different target languages,\review{while keeping separated mathematical expression from the code generation rules, where best practices for numerical conditioning are implemented}.
The library is written in pure \Ruby language and is compatible with most \Ruby interpreters.
\end{abstract}

\begin{keyword}
CAS \sep{} code-generation \sep{} Ruby
%% PACS codes here, in the form: \PACS code \sep code
%% MSC codes here, in the form: \MSC code \sep code
%% or \MSC[2008] code \sep code (2000 is the default)
\end{keyword}

\end{frontmatter}

\linenumbers{}

%% Body
\input{src/1-motivation}
\input{src/2-description}
\input{src/3-snippets}
\input{src/4-examples}
\input{src/5-impact}
\input{src/6-conclusions}

\section*{Acknowledgements}
\label{sec:acknowledgements}
This research did not receive any specific grant from funding agencies in the public, commercial, or not-for-profit sectors.

%  ___ _ _    _ _                         _
% | _ |_) |__| (_)___  __ _ _ _ __ _ _ __| |_ _  _
% | _ \ | '_ \ | / _ \/ _` | '_/ _` | '_ \ ' \ || |
% |___/_|_.__/_|_\___/\__, |_| \__,_| .__/_||_\_, |
%                     |___/         |_|       |__/
\bibliographystyle{elsarticle-num}
\bibliography{bib}


\input{src/7-code-version}
\end{document}
\endinput

%%
%% End of file `Ragni2016.tex'.
