% !TEX root = Ragni2016.tex

%  __  __     _   _          _   _
% |  \/  |___| |_(_)_ ____ _| |_(_)___ _ _
% | |\/| / _ \  _| \ V / _` |  _| / _ \ ' \
% |_|  |_\___/\__|_|\_/\__,_|\__|_\___/_||_|
\section{Motivation and significance}
\label{sec:motivation}

% Introduce the scientific background and the motivation for developing the software.
% Explain why the software is important, and describe the exact (scientific) problem(s) it solves.
% Indicate in what way the software has contributed (or how it will contribute in the future) to the
% process of scientific discovery; if available, this is to be supported by citing a research paper
% using the software.
% Provide a description of the experimental setting (how does the user use the software?).
% Introduce related work in literature (cite or list algorithms used, other software etc.).
\Ruby \cite{flanagan2008ruby}~is a purely object-oriented scripting language designed in the mid-1990s by Yukihiro Matsumoto, internationally standardized since 2012 as ISO/IEC 30170.

With the advent of the \emph{Internet of Things}, a compact version of the \Ruby interpreter called \Mruby (\emph{eMbedded Ruby})~\cite{tanaka2015mruby} has been published on \emph{GitHub} by Matsumoto, in 2014. The new interpreter is a lightweight implementation, aimed at both low power devices and PC, and complies with the standard\cite{iso30170}. \Mruby has a completely new API, and it is designed to be embedded in complex projects as a front-end interface---e.g., a numerical optimization suite may use \Mruby to for problem definition.

The \Ruby code-base exposes a large set of utilities in core and standard libraries, that can be furthermore expanded through third party libraries, or \emph{gems}. Among the large number of available gems, \Ruby still lacks an \textbf{automatic symbolic differentiation} (ASD)~\cite{tolsma1998computational} engine that handles basic computer algebra routines, compatible with all different \Ruby interpreters.

Nowadays \Ruby is mainly known thanks to the web-oriented \emph{Rails} framework. Its expressiveness and elegance though make it intriguing for use in the scientific/technical field. An ASD-capable gem would prove a fundamental step in this direction, including the support for flexible code generation for high-level software---e.g.,\ IPOPT~\cite{wachter2009ipopt, wachter2006}\@.

\ragnicas\footnote{Minimalistic Ruby Computer Algebra System} is a gem implemented in pure \Ruby that supports symbolic differentiation (SD) and some computer algebra operations~\cite{von2013modern}. The library aims at:
\begin{itemize}
  \item support \review{programmers in} rapid prototyping of numerical algorithms and in code generation, even for different target languages;
  \item when dealing with \review{implementation of} mathematical models \review{in numerical algorithms, allow a clean separation between conditioning rules for numerical instabilities and actual mathematical formulations}, in order to support \review{generation of code that is more robust with respect to issue that can be introduced by specific applications};
  \item create a complete open-source CAS system for the standard \Ruby language, as a long-term effort.
\end{itemize}

Other CAS libraries for \Ruby are available:
\begin{description}
  \item [\emph{Rucas}~\cite{rucas}, \emph{Symbolic}~\cite{symbolic}]: milestone gems, yet at early stage and with discontinued development status. Both offer basic simplification routines, although they lack differentiation.
  \item [\emph{Symengine}~\cite{symengine}]: is a wrapper of the \emph{symengine} C++ library. The back-end library is very complete, but it is compatible only with the \emph{vanilla C} \Ruby interpreter and has several dependencies.
  At best of Author knowledge, at the moment it seems not working using the \Ruby 2.x interpreter.
%At the moment, the \emph{SciRuby}~\cite{sciruby} project reports the gem as broken, and removed it from its own codebase. From a direct test, when performing SD of an arbitrary function, the engine always returns \texttt{nil}.
\end{description}

In Section~\ref{sec:description}, \ragnicas containers and tree structure are explained in detail and applied to basic CAS tasks. In Section~\ref{sec:examples}, two examples on how to use the library as code generator or as interface are described. Finally, the reasons behind the implementation and the long term desired impact are depicted in Section~\ref{sec:impact}. All code listings are available at \url{http://bit.ly/Mr_CAS_examples}.
